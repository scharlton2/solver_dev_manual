ソルバーのバージョンアップ時の注意点
=====================================

ソルバーをバージョンアップする際は、ソルバーそのものを改変するとともに、ソルバー定義ファイルを更新する必要があります。
ソルバー定義ファイルを更新する際の注意点について、以下に示します。

-  SolverDefinition 要素の name 属性は編集しないでください。 name 属性が異なると、iRIC
   は別のソルバーとみなし、過去のソルバー用に作成したプロジェクトファイルは
   読み込めなくなります。

-  SolverDefinition 要素の caption属性を変更してください。caption
   属性は、ソルバーの名前とバージョンの情報を保持する任意の文字列ですので、例えば
   “Sample Solver 1.0”、”Sample Solver 3.2 Beta”, “Sample Solver 3.0
   RC1” など任意の形式でバージョンを記述できます。下で示す version
   属性とは独立に設定できます。

-  SolverDefinition 要素の version 属性を、 :numref:`versionup_cond`
   のポリシーに従って変更して下さい。
   
なお、バージョン番号は、例えば "3.1.4" などのように、 "." で区切られた番号から
構成されます。先頭から順に "メジャー番号"、 "マイナー番号"、 "修正番号" と呼びます。
修正番号は省略可能です。

.. _versionup_cond:

.. csv-table:: 更新するバージョン番号の構成要素
   :file: versionup_cond.csv
   :header-rows: 1

なお、バージョン番号が異なるプロジェクトファイルの互換性については、iRIC
では以下のように扱われます。

-  メジャー番号が異なるソルバーのプロジェクトファイルは、互換性がない。
-  マイナー番号が異なるだけのソルバーのプロジェクトファイルは、より古いものであれば互換性がある。
-  修正番号が異なるだけのソルバーのプロジェクトファイルは、常に互換性がある。

ソルバーとプロジェクトファイルのバージョン番号と、互換性の例を
:numref:`version_compatibility` に示します。

.. _version_compatibility:

.. figure:: images/version_compatibility.png

   ソルバー・プロジェクトファイルのバージョン番号と互換性の例

バージョン番号の増やし方の基本方針は :numref:`_versionup_cond`
で示したとおりですが、最終的には、プロジェクトファイルの互換性を考慮して
ソルバー開発者の方がご判断ください。

また、同一のソルバーの異なるバージョンを、同じ環境に混在させたい場合は、
solvers フォルダの下に、異なる名前でフォルダを作成し、その中にそれぞれ異なる
バージョンのソルバーを配置することができます。
フォルダの名前は、ソルバーの名前とは独立につけることができます。

